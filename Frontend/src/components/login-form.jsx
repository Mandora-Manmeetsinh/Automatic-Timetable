import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Card, CardContent } from "@/components/ui/card"
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"
import { useAuth } from "@/contexts/AuthContext"
import loginImage from "@/components/images/image.svg"

export function LoginForm({
  className,
  ...props
}) {
  const { login, loginWithGoogle, loginWithGitHub } = useAuth();

  const handleSubmit = (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const email = formData.get('email');
    const password = formData.get('password');
    login(email, password);
  };

  const handleGoogleLogin = () => {
    loginWithGoogle();
  };

  const handleGitHubLogin = () => {
    loginWithGitHub();
  };

  return (
    <div className={cn("flex flex-col gap-6", className)} {...props}>
      <Card className="overflow-hidden">
        <CardContent className="grid p-0 md:grid-cols-2">
          <form className="p-6 md:p-8" onSubmit={handleSubmit}>
            <div className="flex flex-col gap-6">
              <div className="flex flex-col items-center text-center">
                <h1 className="text-2xl font-bold">Welcome back</h1>
                <p className="text-balance text-muted-foreground">
                  Login to your Acme Inc account
                </p>
              </div>
              <div className="grid gap-2">
                <Label htmlFor="email">Email</Label>
                <Input id="email" name="email" type="email" placeholder="m@example.com" required />
              </div>
              <div className="grid gap-2">
                <div className="flex items-center">
                  <Label htmlFor="password">Password</Label>
                  <a href="#" className="ml-auto text-sm underline-offset-2 hover:underline">
                    Forgot your password?
                  </a>
                </div>
                <Input id="password" name="password" type="password" required />
              </div>
              <Button type="submit" className="w-full">
                Login
              </Button>
              <div
                className="relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border">
                <span className="relative z-10 bg-background px-2 text-muted-foreground">
                  Or continue with
                </span>
              </div>
              <div className="grid grid-cols-2 gap-4">
                <Button 
                  type="button" 
                  variant="outline" 
                  className="w-full"
                  onClick={handleGoogleLogin}
                >
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                      d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"
                      fill="currentColor" />
                  </svg>
                  <span className="sr-only">Login with Google</span>
                </Button>
                <Button 
                  type="button" 
                  variant="outline" 
                  className="w-full"
                  onClick={handleGitHubLogin}
                >
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                      d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.604-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z"
                      fill="currentColor" />
                  </svg>
                  <span className="sr-only">Login with GitHub</span>
                </Button>
              </div>
              <div className="text-center text-sm">
                Don&apos;t have an account?{" "}
                <a href="#" className="underline underline-offset-4">
                  Sign up
                </a>
              </div>
            </div>
          </form>
          <div className="relative hidden bg-muted md:block">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1536"
              height="1024"
              viewBox="0 0 1536 1024"
              className="absolute inset-0 h-full w-full object-contain dark:brightness-[0.2] dark:grayscale"
              fill="none"
              >
              <path d="M0 0 C506.88 0 1013.76 0 1536 0 C1536 337.92 1536 675.84 1536 1024 C1029.12 1024 522.24 1024 0 1024 C0 686.08 0 348.16 0 0 Z" fill="#053161" />
              <path d="M0 0 C9.59981497 1.30096399 19.16764254 2.46442442 28.828125 3.20703125 C38.28781006 3.94274182 47.71328559 4.890675 57.140625 5.95703125 C57.86109009 6.03848389 58.58155518 6.11993652 59.32385254 6.20385742 C62.53419109 6.56702969 65.74452183 6.93027028 68.95480347 7.29394531 C81.62605241 8.72534699 94.30402439 10.09631348 106.98073196 11.47835159 C113.2502553 12.1619204 119.51970956 12.84612015 125.7890625 13.53125 C126.47042582 13.60570784 127.15178913 13.68016567 127.85379982 13.75687981 C136.79713063 14.73464025 145.73920286 15.72309042 154.6796875 16.7265625 C156.16062393 16.89273071 156.16062393 16.89273071 157.67147827 17.06225586 C158.63276642 17.17013428 159.59405457 17.2780127 160.58447266 17.38916016 C175.85791592 19.10316054 191.12965276 20.7414526 206.43139648 22.18334961 C215.71938545 23.0652098 224.99383869 24.04606735 234.265625 25.08203125 C234.98376373 25.16217468 235.70190247 25.24231812 236.44180298 25.32489014 C245.5006698 26.33787247 254.55687095 27.37367651 263.61227417 28.41712952 C268.35918995 28.96360266 273.10644057 29.50713889 277.85369873 30.05062866 C281.30860825 30.4476073 284.76294478 30.84932455 288.21728516 31.2512207 C301.47479591 32.78488407 301.47479591 32.78488407 314.78125 33.7578125 C321.87898741 34.1399175 328.8540125 35.02389958 335.89537048 35.9793396 C344.5658935 37.14938783 353.24888539 38.18211847 361.94140625 39.171875 C362.66021784 39.25373991 363.37902943 39.33560482 364.11962318 39.41995049 C368.62146559 39.93174416 373.12375812 40.43947537 377.62626266 40.94540787 C379.98163648 41.21023697 382.33691014 41.47594308 384.69216919 41.74179077 C404.84466177 44.01428398 424.99871874 46.21543698 445.20239258 47.98999023 C454.54841998 48.81863043 463.84352461 49.89225848 473.15054321 51.08224487 C484.073212 52.47100394 495.01571083 53.65627044 505.96310425 54.83135986 C509.54163246 55.21655833 513.11962831 55.60640063 516.69750977 55.99755859 C531.41344746 57.60593403 531.41344746 57.60593403 546.13697815 59.14277649 C549.38284043 59.47502678 552.62746576 59.81837166 555.87191772 60.16409302 C557.3215511 60.31550715 558.77177278 60.46140944 560.2225647 60.60128784 C576.49633775 62.17242754 576.49633775 62.17242754 582.69921875 68.3046875 C583.15425781 68.97371094 583.60929688 69.64273438 584.078125 70.33203125 C584.55121094 71.00363281 585.02429688 71.67523438 585.51171875 72.3671875 C587.31078485 75.39883175 587.76556876 77.9048851 587.7648235 81.35469168 C587.76707079 82.19138212 587.76931808 83.02807256 587.77163348 83.89011726 C587.76769296 85.27166971 587.76769296 85.27166971 587.76367283 86.68113232 C587.76482667 87.66216221 587.76598052 88.64319211 587.76716933 89.65395018 C587.76983657 92.97310809 587.76531291 96.29221842 587.76087952 99.6113739 C587.7613152 102.00222259 587.76219004 104.39307124 587.76346868 106.78391963 C587.7652443 111.99845414 587.76389338 117.21297838 587.75983047 122.42751122 C587.75380579 130.18138162 587.75349371 137.93524482 587.75437246 145.68911714 C587.75568772 158.73113385 587.75233981 171.77314551 587.74635506 184.81516075 C587.74044262 197.7326224 587.73659004 210.65008194 587.73550224 223.56754494 C587.7354335 224.3700335 587.73536476 225.17252207 587.73529394 225.99932847 C587.73495562 230.0745876 587.73465423 234.14984673 587.73436707 238.22510586 C587.73226539 267.10718464 587.7255245 295.98926066 587.71606445 324.87133789 C587.70688345 352.93383774 587.69979816 380.99633684 587.69555664 409.05883789 C587.69535935 410.35583358 587.69535935 410.35583358 587.69515808 411.67903121 C587.69383958 420.3621609 587.69256376 429.04529059 587.69131922 437.7284203 C587.68878285 455.41772722 587.6859616 473.10703409 587.68296814 490.79634094 C587.68283085 491.60970716 587.68269356 492.42307338 587.68255211 493.26108705 C587.67334792 547.59723628 587.65748155 601.93338393 587.640625 656.26953125 C587.310625 656.26953125 586.980625 656.26953125 586.640625 656.26953125 C586.640625 654.61953125 586.640625 652.96953125 586.640625 651.26953125 C585.980625 651.26953125 585.320625 651.26953125 584.640625 651.26953125 C584.640625 652.91953125 584.640625 654.56953125 584.640625 656.26953125 C584.310625 656.26953125 583.980625 656.26953125 583.640625 656.26953125 C583.63964819 655.05089508 583.63867138 653.83225891 583.63766497 652.57669437 C583.59442988 598.88291795 583.54749762 545.18914581 583.48164368 491.49539185 C583.48064811 490.68280163 583.47965254 489.87021141 583.47862681 489.03299724 C583.45696949 471.37424838 583.43464689 453.71550042 583.41163872 436.05675327 C583.40035996 427.39721067 583.38922826 418.73766789 583.37817383 410.078125 C583.37707126 409.21638532 583.3759687 408.35464564 583.37483272 407.46679264 C583.33914882 379.52319174 583.31317961 351.57959205 583.29223531 323.63597654 C583.27066545 294.92606423 583.23932064 266.21617885 583.19563387 237.50629127 C583.18947141 233.4534652 583.18342097 229.40063898 583.17743874 225.34781265 C583.17625785 224.55013936 583.17507697 223.75246607 583.17386031 222.93062087 C583.15512122 210.07779231 583.14672086 197.22497668 583.14216376 184.37213614 C583.13736521 171.45825543 583.12172944 158.54442416 583.09495934 145.63056998 C583.07937589 137.95331525 583.07217384 130.27615797 583.07685571 122.59888829 C583.07943377 116.87322205 583.06648397 111.14767634 583.04738948 105.42204525 C583.04209709 103.10029097 583.04191213 100.77851854 583.04722937 98.45676433 C583.05370306 95.31064441 583.0418997 92.16511187 583.02538586 89.01904106 C583.0348009 87.6541232 583.0348009 87.6541232 583.04440615 86.26163125 C582.98383703 80.03405249 581.91488169 75.75053855 577.578125 71.01953125 C569.74348066 66.35208356 559.05785239 66.57708331 550.1875 65.71875 C548.78142592 65.57891069 547.37540076 65.43857882 545.96942139 65.29779053 C542.99053207 65.00029556 540.01138367 64.70562265 537.03198242 64.41329956 C529.96299326 63.71946499 522.89547954 63.01084441 515.82791138 62.30270576 C514.25352719 62.1450115 512.67912528 61.98749411 511.10470581 61.83015251 C498.10805565 60.53105546 485.1219715 59.15145169 472.140625 57.70703125 C454.25933585 55.72161323 436.3597798 53.94631601 418.453125 52.20703125 C401.50258374 50.56001639 384.56399755 48.88018167 367.65087891 46.88305664 C352.46266267 45.09746062 337.25453849 43.49456989 322.04735947 41.88035202 C319.86497612 41.64844713 317.68267412 41.41579153 315.50039673 41.18289185 C311.33252206 40.73826997 307.16442285 40.29580994 302.99609375 39.85546875 C301.99101115 39.74925988 301.99101115 39.74925988 300.96562386 39.64090538 C291.59120464 38.653196 282.21235524 37.7664543 272.82164001 36.95054626 C266.83207012 36.41614977 260.90859005 35.63916627 254.96289062 34.73388672 C249.31848938 33.94496467 243.64544827 33.4875548 237.96768188 33.00802612 C225.87710396 31.98355744 213.82526149 30.76942374 201.77661133 29.32666016 C194.07222661 28.41173048 186.36392153 27.6465031 178.63208008 27.00366211 C173.36353971 26.5558494 168.11660946 25.98299675 162.8671875 25.3515625 C153.46454275 24.22335818 144.04651257 23.2705715 134.6239624 22.32546997 C115.41386645 20.39591451 96.2120548 18.39290027 77.015625 16.33203125 C75.28933365 16.14678391 75.28933365 16.14678391 73.52816772 15.95779419 C60.11347126 14.51694645 46.70061359 13.05967049 33.2890625 11.58984375 C32.03326385 11.452332 30.77746521 11.31482025 29.48361206 11.17314148 C23.45675086 10.51302452 17.43009116 9.85117013 11.40380859 9.18579102 C9.22754389 8.94673337 7.0512746 8.70771749 4.875 8.46875 C3.91177826 8.3617276 2.94855652 8.2547052 1.95614624 8.1444397 C-11.75458294 4.8493778 -26.22390919 4.54775626 -41.05151367 7.31567383 C-41.9203418 7.47052246 -42.78916992 7.62537109 -43.68432617 7.78491211Z"/>
            </svg>
          </div>
        </CardContent>
      </Card>
      <div
        className="text-balance text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 hover:[&_a]:text-primary">
        By clicking continue, you agree to our <a href="#">Terms of Service</a>{" "}
        and <a href="#">Privacy Policy</a>.
      </div>
    </div>
  );
}
